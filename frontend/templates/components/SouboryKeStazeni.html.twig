<div class="margin-component" data-controller="files-tag-filter">
    {% if data.Tagy|length > 1 %}
        <div class="mb-3">
            <button type="button"
                    class="button-style-filter me-2 mb-2"
                    data-files-tag-filter-target="allButton"
                    data-action="click->files-tag-filter#clearFilters">
                Všechny
            </button>
            {% for tag in data.Tagy %}
                {% if loop.index <= 5 %}
                    <button type="button"
                            class="button-style-filter me-2 mb-2"
                            data-files-tag-filter-target="filter"
                            data-tag="{{ tag.slug }}"
                            data-action="click->files-tag-filter#toggleFilter">
                        {{ tag.Tag }}
                    </button>
                {% endif %}
            {% endfor %}

            {% if data.Tagy|length > 5 %}
                <div class="d-none" data-files-tag-filter-target="hiddenTags">
                    {% for tag in data.Tagy %}
                        {% if loop.index > 5 %}
                            <button type="button"
                                    class="button-style-filter me-2 mb-2"
                                    data-files-tag-filter-target="filter"
                                    data-tag="{{ tag.slug }}"
                                    data-action="click->files-tag-filter#toggleFilter">
                                {{ tag.Tag }}
                            </button>
                        {% endif %}
                    {% endfor %}
                </div>

                <button type="button"
                        class="button-style-filter button-style-filter-inverse ms-2 mb-2"
                        data-files-tag-filter-target="showMoreButton"
                        data-action="click->files-tag-filter#showMoreTags">
                    <i class="bi bi-plus-circle"></i> Více
                </button>
            {% endif %}

            <a href="#"
               class="d-none ms-2 small text-decoration-underline"
               data-files-tag-filter-target="clearFiltersLink"
               data-action="click->files-tag-filter#clearFilters">
                zrušit filtrování
            </a>
        </div>
    {% endif %}

    <div class="row">
        {% for soubor in data.Soubor %}
            {% if soubor.Soubor %}
                <div class="d-block {{ data.Pocet_sloupcu == 2 ? 'col-sm-6' : 'col-sm-12' }}"
                     {% if soubor.Tag %}data-tags="{{ soubor.Tag.slug }}"{% endif %}
                     data-files-tag-filter-target="item"
                >
                    <a href="{{ soubor.Soubor.url }}" class="text-decoration-none mt-2" target="_blank">
                        <i class="bi-file-earmark-image fs-4"></i>
                        <strong>{{ soubor.Nadpis }}</strong>

                        {#
                            {% if not isPanel %}
                                <small class="ms-2">({{ soubor.Soubor.size }}kb)</small>
                                <i class="bi-download"></i>
                            {% endif %}
                        #}
                    </a>
                </div>
            {% endif %}
        {% endfor %}
    </div>
</div>
