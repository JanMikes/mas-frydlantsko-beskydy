{% extends 'base.html.twig' %}

{% block title %}Homepage{% endblock %}

{% block content %}
    {% if homepage and homepage.Slider %}
        <div class="carousel-wrapper position-relative">
            <div id="home-carousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="7500">
                <div class="carousel-inner">
                    {% for slide in homepage.Slider %}
                        <div class="carousel-item {% if loop.first %}active{% endif %}" {% if slide.Obrazek %}style="background-image: url('{{ slide.Obrazek.url }}');"{% endif %}>
                            <div class="carousel-background-blur"></div>
                            <div class="container position-relative h-100">
                                <div class="row h-100">
                                    <div class="col-lg-6 d-flex flex-column justify-content-center pe-5">
                                        {% if slide.Titulek %}
                                            <p class="slide-title mb-4">{{ slide.Titulek }}</p>
                                        {% endif %}

                                        {% if slide.Nadpis %}
                                            <p class="slide-heading mb-4">{{ slide.Nadpis }}</p>
                                        {% endif %}

                                        {% if slide.Text %}
                                            <div class="slide-text">{{ slide.Text|markdown_to_html|newlines }}</div>
                                        {% endif %}

                                        {% if slide.Tlacitko %}
                                            <p class="mb-0 mt-4">
                                                <span class="d-inline-block my-2 button-style-1">
                                                    <twig:Odkaz data="{{ slide.Tlacitko.Odkaz }}">{{ slide.Tlacitko.Text }}</twig:Odkaz>
                                                </span>
                                            </p>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>

            <div class="homepage-carousel-navs-wrapper">
                <div class="homepage-carousel-navs-inner">
                    <a href="https://www.facebook.com/masfrydlantskobeskydy.cz" target="_blank">
                        <i class="bi-facebook"></i>
                    </a>
                </div>

                <div class="homepage-carousel-navs">
                    <button type="button" data-bs-target="#home-carousel" data-bs-slide="prev">
                        <i class="bi-arrow-left bi-large" aria-hidden="true"></i>
                        <span class="visually-hidden">Previous</span>
                    </button>

                    <span class="divider"></span>

                    <button type="button" data-bs-target="#home-carousel" data-bs-slide="next">
                        <i class="bi-arrow-right bi-large" aria-hidden="true"></i>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>

        </div>
    {% endif %}

    {% if homepage and homepage.ZakladniInformace %}
        <div class="container">
            <div class="d-flex flex-wrap homepage-karty mt-2 mt-lg-5 mb-3 mb-lg-5 align-items-stretch justify-content-between w-100 text-center">
                {% for informace in homepage.ZakladniInformace %}
                    <div class="d-flex align-items-center d-sm-block mt-4 mt-lg-0">
                        {% if informace.Nadpis %}
                            <span class="home-info-title pe-3 pe-sm-0">{{ informace.Nadpis }}</span>
                            <div class="home-info-text">{{ informace.Text|markdown_to_html|newlines }}</div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    {% if section %}
        <div class="container pt-3 pb-3 section-content">
            <div class="row gx-lg-5">
                <div class="{{ section.Komponenty_panel ? 'col-lg-8' : 'col-lg-12' }}">
                    <div class="section-content-wrapper">
                        {% for komponenta in section.Komponenty %}
                            {{ component(komponenta.type, {
                                hasPanel: section.Komponenty_panel|length > 0,
                                isPanel: false,
                                data: komponenta.data,
                            }) }}
                        {% endfor %}
                    </div>
                </div>

                {% if section.Komponenty_panel %}
                    <div class="col-lg-4 mt-5 mt-lg-0 side-panel">
                        {% for komponenta in section.Komponenty_panel %}
                            {{ component(komponenta.type, {
                                hasPanel: section.Komponenty_panel|length > 0,
                                isPanel: true,
                                data: komponenta.data,
                            }) }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </div>
    {% endif %}

    <div class="home-background-image">
        <div class="container">
            <h2 class="mt-5 mb-3 with-border">
                <span class="heading-border fw-bold">Zapojené obce</span>
            </h2>

            <ul class="znaky-obci justify-content-around">
                <li>
                    <a href="https://www.baska.cz/" target="_blank">
                        <img src="{{ asset('images/znak_baska.png') }}" alt="Obec Baška">
                        <span>Baška</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.obecbila.cz/" target="_blank">
                        <img src="{{ asset('images/znak_bila.png') }}" alt="Obec Bílá">
                        <span>Bílá</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.celadna.cz/" target="_blank">
                        <img src="{{ asset('images/znak_celadna.png') }}" alt="Obec Čeladná">
                        <span>Čeladná</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.frydlantno.cz/" target="_blank">
                        <img src="{{ asset('images/znak_frydlant.png') }}" alt="Obec Frýdlant nad Ostravicí">
                        <span>Frýdlant nad Ostravicí</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.obecjanovice.cz/" target="_blank">
                        <img src="{{ asset('images/znak_janovice.png') }}" alt="Obec Janovice">
                        <span>Janovice</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.kuncicepo.cz/" target="_blank">
                        <img src="{{ asset('images/znak_kuncice.png') }}" alt="Obec Kunčice pod Ondřejníkem">
                        <span>Kunčice pod Ondřejníkem</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.obec-lhotka.eu/" target="_blank">
                        <img src="{{ asset('images/znak_lhotka.png') }}" alt="Obec Lhotka">
                        <span>Lhotka</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.malenovice.eu/" target="_blank">
                        <img src="{{ asset('images/znak_malenovice.png') }}" alt="Obec Malenovice">
                        <span>Malenovice</span>
                    </a>
                </li>
                <li>
                    <a href="https://metylovice.cz" target="_blank">
                        <img src="{{ asset('images/znak_metylovice.png') }}" alt="Obec Metylovice">
                        <span>Metylovice</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.obec-ostravice.cz/" target="_blank">
                        <img src="{{ asset('images/znak_ostravice.png') }}" alt="Obec Ostravice">
                        <span>Ostravice</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.pstruzi.cz/" target="_blank">
                        <img src="{{ asset('images/znak_pstruzi.png') }}" alt="Obec Pstruží">
                        <span>Pstruží</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.przno.cz/" target="_blank">
                        <img src="{{ asset('images/znak_przno.png') }}" alt="Obec Pržno">
                        <span>Pržno</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.stare-hamry.cz/" target="_blank">
                        <img src="{{ asset('images/znak_stare_hamry.png') }}" alt="Obec Staré Hamry">
                        <span>Staré Hamry</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
{% endblock %}
