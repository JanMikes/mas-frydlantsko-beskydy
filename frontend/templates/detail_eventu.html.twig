{% extends 'base.html.twig' %}

{% block title %}{{ event.Nazev }}{% endblock %}

{% block content %}
    <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ path('homepage') }}">Hlavní stránka</a></li>
            <li class="breadcrumb-item"><a href="{{ path('kalendar_akci') }}">Kalendář akcí</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ event.Nazev }}</li>
        </ol>
    </nav>

    <div class="container py-4">
        <section class="detail-aktuality-section">
            <article class="actuality-detail p-3 p-md-5 rounded mx-auto" style="max-width: 1000px;">
                <h1 class="mb-5" id="event-{{ event.slug }}"><span class="heading-border">{{ event.Nazev }}</span></h1>

                {% set czechMonths = ['Leden','Únor','Březen','Duben','Květen','Červen','Červenec','Srpen','Září','Říjen','Listopad','Prosinec'] %}

                <p>
                    {% if event.MistoKonani %}
                        <strong class="text-secondary">Místo konání:</strong> {{ event.MistoKonani }}<br>
                    {% endif %}

                    {% if event.Poradatel %}
                        <strong class="text-secondary">Pořadatel:</strong> {{ event.Poradatel }}<br>
                    {% endif %}

                    {% if event.Datum %}
                        <strong class="text-secondary">Datum:</strong>
                        {% set monthName = czechMonths[event.Datum|date('n') - 1] %}
                        {{ event.Datum|date('d') }}. {{ monthName }}

                        {% if event.Datum|date('H:i') != '00:00' %}
                            {{ event.Datum|date('H:i') }}
                        {% endif %}
                    {% endif %}
                </p>

                {% if event.FotkaDetail %}
                    <div class="img-wrapper">
                        <img src="{{ event.FotkaDetail.url }}" class="img-fluid" alt="" aria-labelledby="event-{{ event.slug }}">
                    </div>
                {% endif %}

                {% if event.Popis %}
                    <div class="my-3">
                        {{ event.Popis|markdown_to_html }}
                    </div>
                {% endif %}

                {% if event.Dokumenty %}
                    <ul class="files-list">
                        {% for file in event.Dokumenty %}
                            <li>
                                <a class="file-link" href="{{ file.url }}">
                                    <span class="file-caption">{{ file.caption ?? file.name }}</span>
                                    <span class="file-info">({{ file.size }}kb)</span>
                                    <span class="icon-download"></span>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}

                {% if event.Galerie %}
                    {{ component('Galerie', {
                        data: event.Galerie,
                        hasPanel: false,
                    }) }}
                {% endif %}
            </article>
        </section>
    </div>
{% endblock %}
